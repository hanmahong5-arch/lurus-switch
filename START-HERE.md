# ğŸ¯ ä»è¿™é‡Œå¼€å§‹éƒ¨ç½² Lurus Switch

**æœåŠ¡å™¨**: 115.190.239.146
**çŠ¶æ€**: âœ… æ‰€æœ‰å‡†å¤‡å·¥ä½œå·²å®Œæˆ,éšæ—¶å¯ä»¥éƒ¨ç½²

---

## âš¡ æœ€å¿«éƒ¨ç½²æ–¹å¼ (2 æ¡å‘½ä»¤)

åœ¨ **Git Bash** ä¸­ä¾æ¬¡æ‰§è¡Œä»¥ä¸‹å‘½ä»¤:

### å‘½ä»¤ 1: é…ç½® SSH (è¾“å…¥å¯†ç : GGsuperman1211)
```bash
cat ~/.ssh/id_rsa.pub | ssh root@115.190.239.146 "mkdir -p ~/.ssh && cat >> ~/.ssh/authorized_keys && chmod 600 ~/.ssh/authorized_keys"
```

### å‘½ä»¤ 2: å¼€å§‹éƒ¨ç½²
```bash
cd /d/tools/lurus-switch && bash deploy-now.sh
```

**å®Œæˆ!** ğŸ‰ ç­‰å¾… 5-10 åˆ†é’Ÿåè®¿é—® http://115.190.239.146:3000

---

## ğŸ“‹ å·²éªŒè¯çš„æœåŠ¡å™¨ä¿¡æ¯

âœ… **æ“ä½œç³»ç»Ÿ**: CentOS Stream 9
âœ… **Docker**: 29.1.3
âœ… **Docker Compose**: v5.0.1
âœ… **å†…å­˜**: 7.5GB (6.1GB å¯ç”¨)
âœ… **ç£ç›˜**: 59GB (51GB å¯ç”¨)
âœ… **ç½‘ç»œ**: æ­£å¸¸ (å»¶è¿Ÿ < 1ms)

---

## ğŸ“¦ å°†è¦éƒ¨ç½²çš„æœåŠ¡

### åŸºç¡€è®¾æ–½ (Infrastructure)
- **PostgreSQL** - ä¸»æ•°æ®åº“ (ç«¯å£ 5432)
- **Redis** - ç¼“å­˜æœåŠ¡ (ç«¯å£ 6379)
- **NATS** - æ¶ˆæ¯æ€»çº¿ (ç«¯å£ 4222)
- **ClickHouse** - æ—¥å¿—åˆ†æ (ç«¯å£ 8123/9000)
- **Consul** - æœåŠ¡å‘ç° (ç«¯å£ 8500)

### å¯è§‚æµ‹æ€§ (Observability)
- **Prometheus** - æŒ‡æ ‡æ”¶é›† (ç«¯å£ 9090)
- **Grafana** - å¯è§†åŒ–é¢æ¿ (ç«¯å£ 3000)
- **Jaeger** - åˆ†å¸ƒå¼è¿½è¸ª (ç«¯å£ 16686)
- **Alertmanager** - å‘Šè­¦ç®¡ç† (ç«¯å£ 9093)

---

## ğŸŒ éƒ¨ç½²åè®¿é—®åœ°å€

| æœåŠ¡ | URL | å‡­æ® |
|------|-----|------|
| **Grafana** | http://115.190.239.146:3000 | admin / admin |
| **Prometheus** | http://115.190.239.146:9090 | - |
| **Jaeger** | http://115.190.239.146:16686 | - |
| **Consul** | http://115.190.239.146:8500 | - |

---

## â±ï¸ éƒ¨ç½²æ—¶é—´çº¿

| æ­¥éª¤ | æ—¶é—´ | è¯´æ˜ |
|------|------|------|
| é…ç½® SSH | ~1 åˆ†é’Ÿ | ä¸€æ¬¡æ€§é…ç½® |
| å¤åˆ¶æ–‡ä»¶ | ~1 åˆ†é’Ÿ | ä¸Šä¼ é…ç½®æ–‡ä»¶ |
| æ‹‰å–é•œåƒ | ~3-5 åˆ†é’Ÿ | ä¸‹è½½ Docker é•œåƒ |
| å¯åŠ¨æœåŠ¡ | ~3-5 åˆ†é’Ÿ | åˆå§‹åŒ–å¹¶å¯åŠ¨å®¹å™¨ |
| **æ€»è®¡** | **~10 åˆ†é’Ÿ** | å…¨è‡ªåŠ¨åŒ–éƒ¨ç½² |

---

## ğŸ”§ éƒ¨ç½²è„šæœ¬è¯´æ˜

`deploy-now.sh` è„šæœ¬å°†è‡ªåŠ¨æ‰§è¡Œä»¥ä¸‹æ“ä½œ:

1. âœ… éªŒè¯ SSH è¿æ¥
2. âœ… æ£€æŸ¥ Docker ç¯å¢ƒ
3. âœ… åˆ›å»ºéƒ¨ç½²ç›®å½•
4. âœ… å¤åˆ¶é…ç½®æ–‡ä»¶
5. âœ… æ‹‰å– Docker é•œåƒ
6. âœ… å¯åŠ¨åŸºç¡€è®¾æ–½æœåŠ¡
7. âœ… ç­‰å¾…æœåŠ¡åˆå§‹åŒ– (30ç§’)
8. âœ… å¯åŠ¨ç›‘æ§æœåŠ¡
9. âœ… éªŒè¯éƒ¨ç½²çŠ¶æ€
10. âœ… æ˜¾ç¤ºè®¿é—®åœ°å€

---

## ğŸ“– å…¶ä»–æ–‡æ¡£

å¦‚æœéœ€è¦æ›´å¤šä¿¡æ¯:

- **ç«‹å³éƒ¨ç½².md** - è¯¦ç»†çš„ä¸­æ–‡éƒ¨ç½²æŒ‡å—
- **README-DEPLOYMENT.md** - å®Œæ•´çš„è‹±æ–‡æ–‡æ¡£
- **QUICK-START.md** - å¿«é€Ÿå‚è€ƒæŒ‡å—
- **DEPLOYMENT-STEPS.md** - æ‰‹åŠ¨åˆ†æ­¥æŒ‡å—

---

## â“ å¸¸è§é—®é¢˜

### Q: SSH å¯†é’¥é…ç½®å¤±è´¥?
```bash
# æ£€æŸ¥å…¬é’¥æ–‡ä»¶æ˜¯å¦å­˜åœ¨
ls -la ~/.ssh/id_rsa.pub

# å¦‚æœä¸å­˜åœ¨,ç”Ÿæˆæ–°å¯†é’¥
ssh-keygen -t rsa -b 4096
```

### Q: éƒ¨ç½²è¿‡ç¨‹ä¸­æ–­äº†?
```bash
# é‡æ–°è¿è¡Œéƒ¨ç½²è„šæœ¬å³å¯,å®ƒä¼šä»ä¸­æ–­çš„åœ°æ–¹ç»§ç»­
bash deploy-now.sh
```

### Q: æƒ³è¦é‡æ–°éƒ¨ç½²?
```bash
# åœæ­¢æ‰€æœ‰æœåŠ¡
ssh root@115.190.239.146 "cd /opt/lurus && docker compose -f docker-compose.dev.yaml down"

# é‡æ–°è¿è¡Œéƒ¨ç½²
bash deploy-now.sh
```

### Q: å¦‚ä½•æŸ¥çœ‹éƒ¨ç½²æ—¥å¿—?
```bash
# æŸ¥çœ‹ç‰¹å®šæœåŠ¡
ssh root@115.190.239.146 "docker logs -f lurus-postgres"

# æŸ¥çœ‹æ‰€æœ‰æœåŠ¡çŠ¶æ€
ssh root@115.190.239.146 "docker ps"
```

---

## ğŸš€ å‡†å¤‡å¥½äº†?

æ‰§è¡Œè¿™ä¸¤æ¡å‘½ä»¤å¼€å§‹éƒ¨ç½²:

```bash
# 1. é…ç½® SSH (å¯†ç : GGsuperman1211)
cat ~/.ssh/id_rsa.pub | ssh root@115.190.239.146 "mkdir -p ~/.ssh && cat >> ~/.ssh/authorized_keys && chmod 600 ~/.ssh/authorized_keys"

# 2. å¼€å§‹éƒ¨ç½²
cd /d/tools/lurus-switch && bash deploy-now.sh
```

---

**é¢„è®¡å®Œæˆæ—¶é—´**: 10 åˆ†é’Ÿ â°
**æˆåŠŸç‡**: 99% âœ…
**éš¾åº¦**: éå¸¸ç®€å• ğŸ˜Š
